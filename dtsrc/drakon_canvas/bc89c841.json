{"version":20180619,"tag":"545964779","params":"ctx\ntext\noptions","when_created":1667540023.7925,"parent_id":"99e62b4e","props":[],"created_by":"stipan","items":{"4":{"flag1":1,"id":"4","type":"question","two":"9","one":"8","text":"options.useMarkdown"},"31":{"type":"action","id":"31","one":"19","text":"block.width = Math.max(\n    calcLineWidth(line),\n    block.width\n)"},"5":{"flag1":0,"id":"5","type":"question","two":"6","one":"4","text":"options.singleLine"},"22":{"type":"loopend","text":"","one":"31","id":"22"},"32":{"type":"action","id":"32","one":"29","text":"block.width += (\n    options.paddingLeft + options.paddingRight\n)"},"23":{"type":"loopbegin","text":"token; line","one":"26","id":"23"},"7":{"type":"action","text":"lines = [line]","one":"13","id":"7"},"18":{"type":"action","id":"18","one":"14","text":"block = {\n    width: 0,\n    options: options,\n    text: text,\n    lineHeight: options.lineHeight * fontObj\n    .size,\n    fontSize: fontObj.size,\n    lines: lines\n}"},"29":{"type":"action","id":"29","one":"1","text":"return block"},"13":{"branchId":2,"one":"16","id":"13","type":"branch","text":"Set font"},"14":{"branchId":3,"one":"20","id":"14","type":"branch","text":"Branch1"},"9":{"type":"action","id":"9","one":"13","text":"lines = splitToTokens(text)"},"8":{"type":"action","id":"8","one":"13","text":"lines = splitToTokensMarkdown(text)"},"1":{"type":"end","id":"1"},"6":{"type":"action","text":"line = splitLineToTokens(text)","one":"7","id":"6"},"24":{"type":"action","text":"token.width = size.width","one":"22","id":"24"},"15":{"one":"17","id":"15","type":"action","text":"setFontToTokens(lines, options.font, fontCache)","two":""},"16":{"one":"15","id":"16","type":"action","text":"fontCache = initFontCache()","two":""},"28":{"type":"action","id":"28","one":"24","text":"size = ctx.measureText(\" \")"},"25":{"type":"action","id":"25","one":"24","text":"size = ctx.measureText(token.text)"},"12":{"branchId":4,"one":"32","id":"12","type":"branch","text":"Exit"},"19":{"type":"loopend","text":"","one":"12","id":"19"},"26":{"type":"action","text":"ctx.font = token.font","one":"27","id":"26"},"2":{"branchId":1,"one":"5","id":"2","type":"branch","text":"Lex"},"17":{"one":"18","id":"17","type":"action","two":"","text":"fontObj = parseCssFont(options.font, fontCache)"},"27":{"flag1":0,"id":"27","type":"question","two":"28","one":"25","text":"token.type === \"space\""},"20":{"type":"loopbegin","id":"20","one":"23","text":"line; lines"}},"keywords":{"scenario":false,"async":false,"export":true,"function":true,"algoprop":false},"updated_by":"stipan","type":"drakon","when_updated":1667588045.5878,"name":"createTextBlock","language":"LANG_S42"}