{"version":20180619,"tag":"862273322","params":"visuals","when_created":1657992875.1599,"parent_id":"befd80d4","props":[],"language":"LANG_S42","items":{"4":{"type":"loopend","id":"4","one":"18","text":""},"37":{"flag1":0,"id":"37","type":"question","text":"visuals.type === \"free\"","one":"33","two":"39"},"31":{"type":"action","text":"calculateBoxIter(node, box)","one":"4","id":"31"},"21":{"one":"32","id":"21","type":"loopbegin","text":"element; visuals.free","two":""},"41":{"type":"loopend","text":"","one":"34","id":"41"},"50":{"type":"action","text":"padding = metre * 2","one":"19","id":"50"},"32":{"type":"action","text":"calculateBoxFromFree(element.box, box)","one":"20","id":"32"},"8":{"type":"action","id":"8","one":"16","text":"box = {\n    left: Number.MAX_SAFE_INTEGER,\n    right: Number.MIN_SAFE_INTEGER,\n    top: Number.MAX_SAFE_INTEGER,\n    bottom: Number.MIN_SAFE_INTEGER\n}"},"5":{"type":"loopbegin","id":"5","one":"31","text":"id, node; visuals.nodes"},"48":{"type":"action","id":"48","one":"19","text":"padding = metre"},"39":{"type":"action","id":"39","one":"33","text":"box.top -= 30"},"49":{"flag1":1,"id":"49","type":"question","text":"visuals.type === \"drakon\"","one":"48","two":"50"},"44":{"type":"loopbegin","id":"44","one":"46","text":"conbox; connection.boxes"},"43":{"type":"loopend","text":"","one":"41","id":"43"},"47":{"type":"action","id":"47","one":"44","text":"buildConnectionBoxes(visuals, connection)"},"34":{"branchId":4,"one":"35","id":"34","type":"branch","text":"Default size"},"19":{"type":"action","id":"19","one":"37","text":"box.left -= padding\nbox.top -= padding\nbox.right += padding\nbox.bottom += padding\nbox.width = box.right - box.left\nbox.height = box.bottom - box.top"},"33":{"type":"action","text":"return box","one":"1","id":"33"},"45":{"type":"action","id":"45","one":"43","text":"nextBox(\n    box,\n    conbox.left,\n    conbox.top,\n    right,\n    bottom\n)"},"42":{"type":"loopbegin","id":"42","one":"47","text":"id, connection; visuals.connectionById"},"16":{"type":"action","id":"16","one":"5","text":"metre = visuals.config.metre"},"35":{"flag1":0,"id":"35","type":"question","text":"box.left === Number.MAX_SAFE_INTEGER","one":"17","two":"36"},"40":{"branchId":3,"one":"42","id":"40","type":"branch","text":"Connections"},"46":{"type":"action","id":"46","one":"45","text":"right = conbox.left + conbox.width\nbottom = conbox.top + conbox.height"},"2":{"branchId":1,"one":"8","id":"2","type":"branch","text":"Nodes"},"17":{"branchId":5,"one":"49","id":"17","type":"branch","text":"Set diagram box"},"36":{"type":"action","id":"36","one":"17","text":"box.left = 0\nbox.right = 100\nbox.top = 0\nbox.bottom = 100"},"1":{"type":"end","id":"1"},"18":{"branchId":2,"one":"21","id":"18","type":"branch","text":"Free"},"20":{"one":"40","id":"20","type":"loopend","text":"","two":""}},"type":"drakon","when_updated":1673514502.905,"updated_by":"stipan","keywords":{"scenario":false,"async":false,"export":false,"function":true,"algoprop":false},"name":"calculateDiagramBox","created_by":"stipan"}