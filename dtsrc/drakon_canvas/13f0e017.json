{"version":20180619,"tag":"438028822","params":"widget\npos\nevt","when_created":1663667827.8509,"parent_id":"befd80d4","props":[],"language":"LANG_S42","items":{"4":{"one":"6","id":"4","type":"action","two":"","text":"prim = findVisualItem(\n    visuals,\n    pos.x,\n    pos.y\n)"},"10":{"flag1":1,"id":"10","type":"question","text":"prim.elType === \"node\"","one":"12","two":"44"},"5":{"one":"4","id":"5","type":"action","text":"visuals = widget.visuals","two":""},"50":{"one":"30","id":"50","type":"action","two":"","text":"paint(widget)"},"12":{"type":"action","text":"node = getNode(visuals, prim.id)","one":"13","id":"12"},"51":{"flag1":1,"id":"51","type":"question","two":"26","one":"27","text":"ensureSelectedOne(widget, prim.id)"},"52":{"flag1":1,"id":"52","type":"question","two":"57","one":"43","text":"ensureSelectedOne(widget, prim.id)"},"13":{"flag1":0,"id":"13","type":"question","two":"14","one":"15","text":"node.type == \"end\""},"14":{"type":"action","text":"menu = []","one":"30","id":"14"},"34":{"one":"33","id":"34","type":"action","text":"callback = widget.config.showContextMenu","two":""},"45":{"flag1":1,"id":"45","type":"question","two":"46","one":"58","text":"edge.role === \"parceiling\""},"15":{"flag1":0,"id":"15","type":"question","text":"node.type == \"junction\"","one":"51","two":"42"},"35":{"one":"29","id":"35","type":"action","text":"console.error(\n    \"showContextMenu is missing in config\"\n)","two":""},"46":{"type":"action","text":"menu = []","one":"30","id":"46"},"26":{"type":"action","text":"menu = buildBlockMenu(widget)","one":"28","id":"26"},"36":{"one":"29","id":"36","type":"action","text":"callback(evt.clientX, evt.clientY, menu)","two":""},"27":{"type":"action","text":"menu = buildMenuByType(\n    widget,\n    prim,\n    node\n)","one":"28","id":"27"},"58":{"flag1":1,"id":"58","type":"question","two":"59","one":"49","text":"ensureSelectedOne(widget, edge.tail.id)"},"59":{"type":"action","text":"menu = buildBlockMenu(widget)","one":"50","id":"59"},"57":{"type":"action","text":"menu = buildBlockMenu(widget)","one":"28","id":"57"},"28":{"one":"30","id":"28","type":"action","two":"","text":"paint(widget)"},"39":{"type":"action","id":"39","one":"10","text":"primToClient(widget, prim)"},"29":{"branchId":3,"one":"1","id":"29","type":"branch","text":"Exit"},"49":{"type":"action","id":"49","one":"50","text":"menu = buildBeginParMenu(\n    widget,\n    edge.tail\n)"},"1":{"type":"end","id":"1"},"8":{"type":"action","id":"8","one":"30","text":"menu = buildBackgroundMenu(widget)"},"6":{"flag1":1,"id":"6","type":"question","two":"8","one":"39","text":"prim"},"31":{"flag1":0,"id":"31","type":"question","two":"29","one":"34","text":"menu.length === 0"},"30":{"branchId":2,"one":"31","id":"30","type":"branch","text":"Invoke context menu"},"42":{"flag1":1,"id":"42","type":"question","two":"14","one":"52","text":"node.subtype === \"parbegin\""},"2":{"branchId":1,"one":"5","id":"2","type":"branch","text":"Build menu"},"43":{"type":"action","id":"43","one":"28","text":"menu = buildBeginParMenu(widget, node)"},"44":{"type":"action","text":"edge = getEdge(visuals, prim.id)","one":"45","id":"44"},"33":{"flag1":1,"id":"33","type":"question","text":"callback","one":"36","two":"35"}},"keywords":{"scenario":false,"async":false,"export":false,"function":true,"algoprop":false},"type":"drakon","updated_by":"stipan","when_updated":1666628253.1012,"name":"handleRightClick","created_by":"stipan"}