{"version":20180619,"tag":"82790296","params":"widget\npos\nevt","when_created":1658296533.2933,"parent_id":"b0881e64","props":[],"language":"LANG_S42","items":{"31":{"one":"32","id":"31","type":"action","two":"","text":"deselectAll(widget)"},"21":{"flag1":0,"id":"21","type":"question","two":"54","one":"24","text":"diff <= doubleClickTime"},"22":{"type":"action","id":"22","one":"21","text":"diff = now - lastClick"},"61":{"type":"action","id":"61","one":"42","text":"widget.lastClick = undefined"},"23":{"type":"action","text":"doubleClickTime = 500","one":"47","id":"23"},"62":{"flag1":0,"id":"62","type":"question","text":"clickedOnTop(widget, prim, evt)","one":"50","two":"63"},"51":{"type":"action","text":"primToClient(widget, prim)","one":"62","id":"51"},"52":{"type":"action","text":"evt.stopPropagation()\nevt.preventDefault()","one":"51","id":"52"},"64":{"type":"action","id":"64","one":"20","text":"x = pos.x\ny = pos.y"},"34":{"flag1":1,"id":"34","type":"question","text":"prim.id","one":"35","two":"65"},"53":{"one":"58","id":"53","type":"action","text":"lastPrimId = widget.lastPrimId\nprim = findVisualItem(visuals, x, y)","two":""},"24":{"type":"action","text":"widget.lastClick = now","one":"27","id":"24"},"35":{"one":"36","id":"35","type":"action","text":"printPrim(visuals, prim)","two":""},"46":{"flag1":1,"id":"46","type":"question","two":"26","one":"52","text":"prim.elType === \"node\""},"54":{"flag1":0,"id":"54","type":"question","text":"primId === lastPrimId","one":"24","two":"61"},"47":{"one":"64","id":"47","type":"action","two":"","text":"visuals = widget.visuals"},"27":{"branchId":2,"one":"29","id":"27","type":"branch","text":"Single click"},"58":{"flag1":1,"id":"58","type":"question","text":"prim","one":"59","two":"60"},"59":{"type":"action","text":"widget.lastPrimId = prim.id\nprimId = prim.id","one":"19","id":"59"},"39":{"one":"65","id":"39","type":"action","text":"showLianaSockets(widget, prim)","two":""},"29":{"flag1":0,"id":"29","type":"question","text":"prim","one":"31","two":"34"},"19":{"flag1":0,"id":"19","type":"question","two":"22","one":"24","text":"lastClick"},"65":{"type":"action","id":"65","one":"32","text":"onItemClick(widget, prim, pos, evt)"},"63":{"type":"action","text":"startEditSecondary(widget, prim)","one":"26","id":"63"},"60":{"type":"action","text":"widget.lastPrimId = undefined\nprimId = undefined","one":"19","id":"60"},"38":{"one":"39","id":"38","type":"action","two":"","text":"selectPrim(widget, prim.id)"},"36":{"flag1":0,"id":"36","type":"question","text":"isSelected(widget, prim.id)","one":"38","two":"65"},"26":{"branchId":4,"one":"1","id":"26","type":"branch","text":"Exit"},"1":{"type":"end","id":"1"},"42":{"branchId":3,"one":"45","id":"42","type":"branch","text":"Double click"},"45":{"flag1":1,"id":"45","type":"question","text":"prim","one":"46","two":"26"},"2":{"branchId":1,"one":"23","id":"2","type":"branch","text":"Is it double-click?"},"50":{"type":"action","id":"50","one":"26","text":"startEditContent(widget, prim)"},"32":{"one":"26","id":"32","type":"action","text":"paint(widget)","two":""},"20":{"type":"action","id":"20","one":"53","text":"now = getNowMs()\nlastClick = widget.lastClick"}},"keywords":{"scenario":false,"async":false,"export":false,"function":true,"algoprop":false},"type":"drakon","updated_by":"stipan","created_by":"stipan","name":"mouseClick","when_updated":1666858940.5621}