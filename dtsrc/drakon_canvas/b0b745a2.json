{"keywords":{"scenario":false,"async":false,"export":false,"function":true,"algoprop":false},"tag":"860827085","params":"widget","when_created":1657536263.9535,"parent_id":"befd80d4","props":[],"language":"LANG_S42","items":{"4":{"branchId":6,"one":"35","id":"4","type":"branch","text":"Exit"},"40":{"type":"action","text":"traceLoops(visuals)","one":"41","id":"40"},"10":{"type":"action","text":"visuals.params = createParamsNode(\n    visuals,\n    model.doc.params\n)","one":"14","id":"10"},"21":{"type":"action","text":"branch = getNode(visuals, bItemId)\nbranch.addresses = context.addresses","one":"11","id":"21"},"41":{"type":"action","id":"41","one":"6","text":"forType(visuals, \"arrow-loop\", markArrow)"},"22":{"branchId":4,"one":"52","id":"22","type":"branch","text":"Visual graph"},"32":{"type":"action","text":"positionSkewers(visuals)","one":"33","id":"32"},"11":{"type":"loopend","id":"11","one":"22","text":""},"23":{"flag1":0,"id":"23","type":"question","two":"25","one":"24","text":"model.branches.length > 1"},"7":{"type":"action","text":"visuals.header = createNode(\n    visuals,\n    undefined,\n    \"header\",\n    model.doc.name,\n    \"header\"\n)","one":"8","id":"7"},"33":{"type":"action","text":"positionLevels(visuals)","one":"34","id":"33"},"52":{"flag1":0,"id":"52","type":"question","two":"26","one":"23","text":"model.branches.length === 0"},"13":{"type":"action","text":"context = {\n    visuals: visuals,\n    addresses: []\n}","one":"20","id":"13"},"14":{"branchId":2,"one":"16","id":"14","type":"branch","text":"Create nodes"},"34":{"type":"action","id":"34","one":"4","text":"drawParams(visuals)"},"45":{"type":"action","id":"45","one":"46","text":"element = freeFromItem(visuals, id, item)"},"24":{"type":"action","text":"layoutPrimitive(visuals)","one":"26","id":"24"},"15":{"type":"loopend","id":"15","one":"47","text":""},"16":{"type":"loopbegin","id":"16","one":"44","text":"id, item; model.items"},"35":{"type":"action","id":"35","one":"43","text":"removeTempEdges(visuals)"},"25":{"type":"action","text":"layoutSilhouette(visuals)","one":"26","id":"25"},"46":{"type":"action","text":"flowFreeIcon(widget, visuals, element)","one":"15","id":"46"},"17":{"type":"action","text":"node = nodeFromItem(visuals, item)","one":"18","id":"17"},"36":{"type":"action","text":"buildBoxes(widget, visuals)","one":"37","id":"36"},"27":{"type":"action","text":"buildSkewers(visuals)","one":"29","id":"27"},"37":{"type":"action","text":"forType(visuals, \"address\", putCycleMark)","one":"38","id":"37"},"38":{"type":"action","id":"38","one":"39","text":"calculateDiagramBox(visuals)"},"9":{"type":"action","text":"model = widget.model","one":"49","id":"9"},"28":{"type":"loopend","text":"","one":"42","id":"28"},"8":{"type":"action","id":"8","one":"10","text":"flowIcon(visuals, visuals.header)"},"48":{"type":"action","id":"48","one":"50","text":"ctx = widget.canvas.getContext(\"2d\")"},"39":{"type":"action","id":"39","one":"40","text":"connectLoops(visuals)"},"29":{"type":"loopbegin","id":"29","one":"30","text":"id, skewer; visuals.skewers"},"6":{"type":"action","text":"return visuals","one":"1","id":"6"},"49":{"type":"action","id":"49","one":"48","text":"config = mergeStyleIntoConfig(\n    model.doc.style,\n    widget.config\n)"},"51":{"flag1":0,"id":"51","type":"question","text":"model.type === \"free\"","one":"7","two":"14"},"50":{"type":"action","id":"50","one":"3","text":"config.zoom = widget.zoomFactor"},"1":{"type":"end","id":"1"},"5":{"branchId":3,"one":"12","id":"5","type":"branch","text":"Link nodes"},"47":{"type":"action","id":"47","one":"5","text":"sortFreeIcons(visuals)"},"44":{"flag1":0,"id":"44","type":"question","two":"45","one":"17","text":"isFree(widget, item)"},"43":{"type":"action","text":"positionDurations(visuals)","one":"36","id":"43"},"42":{"type":"action","id":"42","one":"31","text":"reflowContent(visuals)"},"12":{"type":"loopbegin","text":"bItemId; visuals.branches","one":"13","id":"12"},"26":{"branchId":5,"one":"27","id":"26","type":"branch","text":"Calculate coords"},"3":{"type":"action","id":"3","one":"51","text":"visuals = {\n    ctx: ctx,\n    nextId: 1,\n    nodes: {},\n    edges: {},\n    skewers: {},\n    levels: {},\n    byType: {},\n    skewerLinks: [],\n    levelLinks: [],\n    itemsToNodes: {},\n    branches: model.branches.slice(),\n    tempEdges: [],\n    blocks: [],\n    sockets: [],\n    subs: [],\n    free: [],\n    handles: [],\n    fonts: {},\n    config: config,\n    container: widget.contentContainer\n}"},"2":{"branchId":1,"one":"9","id":"2","type":"branch","text":"Header and params"},"30":{"type":"action","text":"setSameWidth(visuals, skewer)","one":"28","id":"30"},"18":{"type":"action","id":"18","one":"15","text":"flowIcon(visuals, node)"},"31":{"type":"action","text":"setSameHeight(visuals)","one":"32","id":"31"},"20":{"type":"action","id":"20","one":"21","text":"linkNodeToChildren(context, bItemId)"}},"type":"drakon","version":20180619,"updated_by":"stipan","when_updated":1671178222.6474,"name":"buildVisuals","created_by":"stipan"}