{"keywords":{"scenario":false,"async":false,"export":false,"function":true,"algoprop":false},"tag":"279625749","params":"widget\nclipboard\nevt","when_created":1667025156.5723,"parent_id":"f7515898","props":[],"created_by":"stipan","items":{"37":{"type":"loopend","text":"","one":"16","id":"37"},"31":{"type":"action","id":"31","one":"6","text":"config = widget.visuals.config"},"21":{"one":"27","id":"21","type":"action","two":"","text":"dx = pos.x - epos.x\ndy = pos.y - epos.y"},"8":{"one":"17","id":"8","type":"action","two":"","text":"replaceIds(\n    widget,\n    undefined,\n    payload.items,\n    \"\"\n)"},"41":{"flag1":0,"id":"41","type":"question","text":"item.type === \"connection\"","one":"33","two":"26"},"38":{"type":"loopbegin","id":"38","one":"42","text":"item; payload.items"},"32":{"type":"action","text":"setFreePosition(item, x, y)","one":"26","id":"32"},"11":{"type":"action","text":"payload = clipboard.content","one":"31","id":"11"},"28":{"type":"action","text":"x = snapUp(config, oldPos.x + dx)\ny = snapUp(config, oldPos.y + dy)","one":"32","id":"28"},"33":{"type":"action","text":"oldPos = getFreePosition(item)","one":"28","id":"33"},"42":{"flag1":0,"id":"42","type":"question","text":"item.type === \"connection\"","one":"39","two":"37"},"18":{"one":"19","id":"18","type":"action","text":"create = function (item) {\n    createPastedItem(edits, item)\n}","two":""},"29":{"type":"action","text":"first = payload.items[0]\nepos = getFreePosition(first)","one":"23","id":"29"},"40":{"type":"action","id":"40","one":"37","text":"currentZ++"},"39":{"type":"action","text":"item.zIndex = currentZ","one":"40","id":"39"},"36":{"type":"action","text":"currentZ = widget.visuals.free.length","one":"38","id":"36"},"34":{"branchId":3,"one":"35","id":"34","type":"branch","text":"z-indexes"},"1":{"type":"end","id":"1"},"30":{"one":"27","id":"30","type":"action","two":"","text":"dx = pos.x - epos.x - 100\ndy = pos.y - epos.y - 100"},"24":{"type":"action","text":"pos = toDiagram(widget, evt)","one":"21","id":"24"},"6":{"one":"8","id":"6","type":"action","text":"edits = []","two":""},"16":{"branchId":4,"one":"18","id":"16","type":"branch","text":"Create items"},"35":{"type":"action","id":"35","one":"36","text":"utils.sortBy(payload.items, \"zIndex\")"},"25":{"one":"30","id":"25","type":"action","two":"","text":"pos = getDiagramCenter(widget)"},"19":{"one":"20","id":"19","type":"action","two":"","text":"payload.items.forEach(create)"},"23":{"flag1":1,"id":"23","type":"question","two":"25","one":"24","text":"evt"},"26":{"type":"loopend","id":"26","one":"34","text":""},"2":{"branchId":1,"one":"11","id":"2","type":"branch","text":"Generate new ids"},"17":{"branchId":2,"one":"29","id":"17","type":"branch","text":"Calculate insertion coordinates"},"27":{"type":"loopbegin","text":"item; payload.items","one":"41","id":"27"},"20":{"one":"1","id":"20","type":"action","text":"return doEdit(widget, edits)","two":""}},"type":"drakon","language":"LANG_S42","updated_by":"stipan","version":20180619,"name":"pasteFree","when_updated":1675145854.5859}